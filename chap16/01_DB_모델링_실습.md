# 33_DB_모델링.md
# DB 모델링 기초
# 모델링 : DB 설계 - 건축의 설계도
# 실무 : 선임 개발자가 주로함, DBA 등
# DB 모델링 도구(툴) : er-win (s/w, 상용)
# 온라인 무료 도구 : ERDCloud (https://www.erdcloud.com/)
# 가입 후 로그인 
# DB 모델링(그림) : ER-Diagram(ERD), Entity-Relation-Diagram
# 설계 용어 설명 : 테이블      == 엔티티(Entity)
#                 컬럼       == 속성 
#                 행(로우)   == 인스턴스
#                자료형/크기  == 도메인
#                 PK        == 주식별자
#                 FK        == 비식별자
#          기타 : 스키마 - DB에 생성되는 객체(테이블,인덱스)들을 총칭해서 말함
# DB 모델링 표기법(참고) : IE 표기법(삼발이(까마귀발)표기법) VS Barker 표기법(우리나라 안씀)

# ERD 작성 순서
1) 엔터티 그리고 배치한다
  예) 사각형 그리기
2) 엔티티간 관계를 설정한다.
  예) 선긋기
3) 관계명 정합니다.(실무에서는 생략할 때도 많음)
  예) [Employee] ──── 소속된다 ────> [Department]
      [Employee] <──── 관리한다 ──── [Department]
4) 관계참여도를(선택사양) 정합니다: (필수(1), 선택(0))
  예)사원: 모든 사원은 반드시 1개의 부서에 포함되어야 합니다.(필수)
     프로젝트: 모든 프로젝트는 부서가 포함될수도 있고, 부서 없이 모의 프로젝트로 진행될수도 있습니다.(선택) 
5) 관계차수를 정합니다.
  예) 부서: 모든 사원은(N) 반드시 1개의 부서에(1이상) 포함되어야 합니다. 
      부서(1): 사원(N) 관계입니다.
      프로젝트: 모든 프로젝트는 부서가 포함될수도 있고 부서 없이 모의 프로젝트를 진행할 수도 있습니다.(0이상)
      부서(0): 프로젝트(N) 관계입니다.
      
   
# 관계 차수: 관계를 맺으면 보통 참조키를 설정합니다.
# 관계키 설정시 실무에서는 보통 아래의 3가지 경우에 대해서 얘기를 많이 합니다.
  (선택은 생략합니다.(0이상인 경우))
# 1) 1:1 : 사람엔티티, 핸드폰엔티티
###     가정 : 모든사람은 1개의 핸드폰을 가지고 있다고 가정 
# 2) 1:N : 부서(4건) , 사원(14명) 
###    1부서에는 여러명의 사원이 있을 수 있음
###    1사원은 여러 부서에 근무할 수 없음  (보편적으로 제일 많음)
# 3) N:N : 회원, 권한
###    1명의 회원은 여러개의 권한을 가질 수 있음
###    1개의 권한은 여러명의 회원을 가질 수 있음
### 모델링 할 수 없음: DB 설계 할수 없음
### (참고) N:N => 1:N , N:1(매핑테이블), 1:N (3개로 쪼갬)


# 모델링 용어 참고) 
#  자식 테이블에서 참조키를 사용한다 
#  == 부모컬럼을 상속받았다라고 얘기하기도 합니다.(실무에서 종종 얘기합니다.)

#   - 식별관계(실선)  : 부모컬럼(기본키) <-> 자식컬럼(기본키+참조키)
#   => 설계시 자식테이블은 부모 컬럼을 상속해서 복합키로 주로 사용합니다.
#   - 비식별관계(점선) : 부모컬럼(기본키) <-> 자식컬럼(일반컬럼, 참조키)
#   => 자식테이블에서 기본키는 따로 만듭니다.
#   => 다른 테이블에서 상속받은 부모컬럼을 참조키로 또 사용하지 못하게 규칙을 정하는 것이
#           설계 단순화 및 시스템 유지 관리에 좋습니다.
#   => 식별관계의 복합키보다는 설계 단순화를 위해 비식별관계 설계를 추천합니다.(시퀀스 기본키 사용)
